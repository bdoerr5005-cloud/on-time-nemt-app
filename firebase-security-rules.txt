FIRESTORE SECURITY RULES (copy into Firebase Console → Firestore → Rules)

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    function signedIn() { return request.auth != null; }
    function isAdmin() { return signedIn() && exists(/databases/$(database)/documents/admins/$(request.auth.uid)); }

    match /admins/{uid} {
      allow read: if isAdmin();
      allow write: if false; // Do admin assignment in console for MVP
    }

    match /submissions/{docId} {
      allow create: if signedIn();
      allow read, update, delete: if isAdmin();
    }
  }
}

STORAGE SECURITY RULES (copy into Firebase Console → Storage → Rules)

rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    function signedIn() { return request.auth != null; }
    function isAdmin() { return signedIn() && exists(/databases/(default)/documents/admins/$(request.auth.uid)); }

    match /uploads/{uid}/{allPaths=**} {
      allow read: if isAdmin() || (signedIn() && request.auth.uid == uid);
      allow write: if signedIn() && request.auth.uid == uid;
    }
  }
}
